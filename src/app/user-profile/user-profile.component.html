<app-nav-bar></app-nav-bar>
<div class="user-profile">
  <mat-card class="usercard">
    <mat-card-header class="profile-title">
      <mat-card-title>My Profile</mat-card-title>
    </mat-card-header>
    <mat-card-content class="usercard-greeting"
      >Hello {{ user.Username }}!</mat-card-content>
    <mat-card-content class="usercard-content">
      <p><b>Username:</b> {{ user.Username }}</p>
      <p>
        <b>Email:</b>
        {{ user.Email }}
      </p>
      <p><b>Birthdate:</b> {{user.Birthday | date:'longDate'}}</p>
    </mat-card-content>

    <mat-card-actions class="usercard-actions">
      <button
        class="edit-button"
        mat-raised-button
        (click)="openEditUserDialog()"
        style="margin-left: 10px"
        color="primary">
        Edit profile
      </button>
      <button
        class="delete-button"
        mat-raised-button
        (click)="deleteUser()"
        style="margin-left: 130px"
        color="warn">
        Delete profile
      </button>
    </mat-card-actions>
  </mat-card>
</div>
<h2 class="my-list-title">My Favorite Movie List </h2>
<p class="my-list-subtitle" *ngIf="(favoriteMovies.length === 0)">There are no movies saved to your list.</p>
<div class="my-list">
<mat-card
    *ngFor="let favorite of favoriteMovies; let i = index"
    class="favorite-card"
>
  <mat-card-header class="fav-header">
    <mat-card-title class="fav-title">{{ favorite.Title }}</mat-card-title>
    <mat-card-subtitle class="fav-subtitle">
      Directed by: {{ favorite.Director.Name }}
    </mat-card-subtitle>
  </mat-card-header>
  <div class="img-container">
    <img 
      src="{{ favorite.ImagePath }}" 
      alt="{{ favorite.Title }}"
    />
  </div>
  <button
  mat-icon-button
  (click)="removeFavoriteMovie(favorite._id, favorite.title)"
>
<mat-icon class="remove-btn">favorite</mat-icon>
</button>
  </mat-card>
</div>